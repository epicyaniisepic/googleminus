<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>User Profile</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://localhost:3000/external/bootstrap.min.css">
	<script src="http://localhost:3000/external/jquery.min.js"></script>
	<script src="http://localhost:3000/external/bootstrap.min.js"></script>
	<script src="http://localhost:3000/external/angular.min.js"></script>
	<script>
		var myApp = angular.module('myApp', [])
   
  		myApp.controller('InfoController', ['$scope', '$http', function($scope, $http) {
       		$http.get('http://localhost:3000/getInfo').then(
        	function(response) {
          	//First function handles success
	          	$scope.info = response.data;
	        },
	        function(response) {
	          //Second function handles error
	          alert('Sorry, Could not find data!')
	        }
      )
    }])
      myApp.controller('PostController', ['$scope', '$http', function($scope, $http) {
          $http.get('http://localhost:3000/getPosts').then(
          function(response) {
            //First function handles success
              //alert(response.data);
              $scope.posts = response.data;
          },
          function(response) {
            //Second function handles error
            alert('Sorry, Could not find data!')
          }
      )
    }])
       myApp.controller('FriendsController', ['$scope', '$http', function($scope, $http) {
          $http.get('http://localhost:3000/getFriends').then(
          function(response) {
            //First function handles success
              //alert(response.data);
              $scope.friends = response.data;
          },
          function(response) {
            //Second function handles error
            alert('Sorry, Could not find data!')
          }
      )
    }])
	</script>
</head>
<body ng-app="myApp">
  	<div ng-app="myApp" ng-controller="InfoController">
      <table class="table">
      <thead>
        <tr>
          <th>Full Name</th>
        </tr>
      </thead>
       <tbody ng-repeat = "x in info">
        <tr>
          <td><h1>{{x.firstname}} {{x.middleinit}} {{x.lastname}}</h1></td>
        </tr>
      </tbody>
      </table>
	  </div>
    <div ng-app="myApp" ng-controller="PostController">
      <table class="table">
      <thead>
        <tr>
          <th>Posts</th>
        </tr>
      </thead>
       <tbody ng-repeat = "x in posts">
        <tr>
          <td><h3>{{x.content}}</h3></td>
          <td><h6>{{x.postdate}}</h6></td>
        </tr>
      </tbody>
      </table>
    </div>
    <div ng-app="myApp" ng-controller="FriendsController">
      <table class="table">
      <thead>
        <tr>
          <th>Friends</th>
        </tr>
      </thead>
       <tbody ng-repeat = "x in friends">
        <tr>
          <td><h3>{{x.firstname}} {{x.middleinit}} {{x.lastname}}</h3></td>
        </tr>
      </tbody>
      </table>
    </div>

</body>
</html>